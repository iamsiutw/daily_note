### 日期: 2019/2/20 Sun

### 目標: 5/30

> 關於程式

今天把目前學到的 React 重要觀念來做個練習專案，需求如下：
1. Create an input field (in App component) with a change listener which outputs the length of the entered text below it (e.g. in a paragraph).
2. Create a new component (=> ValidationComponent) which receives the text length as a prop.
3. Inside the ValidationComponent, either output "Text too short" or "Text long enough" depending on the text length (e.g. take 5 as a minimum length).
4. Create another component (=> CharComponent) and style it as an inline box (=> display: inline-block, padding: 16px, text-align: center, margin: 16px, border: 1px solid black).
5. Render a list of CharComponents where each CharComponent receives a different letter of the entered text (in the initial input field) as a prop.

先在腦海裡稍微想一下如何實現...

---

成果：

**App.js**
```
class App extends Component {

  state = {
    inputLength: 0,
    inputContent: ''
  }

  inputChangeHandler(event){
    const inputLength = event.target.value.length;
    const inputContent = event.target.value; 
    this.setState({ 
      inputLength: inputLength,
      inputContent: inputContent
    });
  }

  deleteLetterHandler(index) {
    let inputContent = [...this.state.inputContent];
    inputContent.splice(index, 1);
    let str = inputContent.join("");
    this.setState({
      inputLength: inputContent.length,
      inputContent: str
    });
  }

  render() {
    let letters = (
      <div>
        {this.state.inputContent.split('').map((letter, index) => {
          return (
            <Char 
            letter={letter} 
            key={index} 
            click={() => this.deleteLetterHandler(index)} />
          )
        })}
      </div>
    )

    return (
      <div className="App">
        <input 
        type="text" 
        value={this.state.inputContent} 
        onChange={(event) => this.inputChangeHandler(event)} />
        <p>
            Input length: {this.state.inputLength}
            content: {this.state.inputContent} 
        </p>
        <Validation length={this.state.inputLength} />
        {letters}        
      </div>
    );
  }
}

export default App;
```
**Char.js**
```
const style = {
  display: "inline-block",
  padding: "16px",
  textAlign: "center",
  margin: "16px",
  border: "1px solid black"
};

const char = props => {
  return <div style={style} 
              onClick={props.click}> 
              {props.letter} 
         </div>;
    };

export default char;
```
**Validation.js**
```
const validation = props => {
  let message = "Text too short";
  if (props.length >= 5) {
    message = "Text long enough"
  }
  return (
    <div>
      <p>{message}</p>
    </div>
  )
}

export default validation
```

為節省空間，程式碼省略所有import沒寫，實際操作時不要忘記了。

**最後畫面長這樣：**
![](https://i.imgur.com/CwOhVZ2.png)

> 隨筆

*#不顧北京反對
#我今天要寫code*

雖然今天下班時和同事說想不到日記隨筆可以寫什麼，但回家後滑了一下臉書牆發現還是有蠻多有趣的大事能寫的。

第一件事當然就是行政院即將提出同性婚姻專法，雖然因為公投結果導致同志朋友無法和異性戀一樣依據民法結婚，但能成立專法也是台灣邁向更平等社會的一大步了。最妙的莫過於這部專法名稱為「司法院釋字748號解釋施行法」，這名稱雖然讓人苦笑，但如果反同方還要再鬧，直接到 5/24 同志能直接依據民法結婚我們也是不反對啦。

這兩天重聽了許多濁水溪公社和林生祥的音樂作品，依舊被他們驚人的音樂創造力、思想視野和理念所震懾。而且這次聽的感覺又更不同以往，歌曲想要傳達的理念和故事都是年少的我無法體會的，真的有到了某個年齡就會突然能懂某些事情的感覺。

就用濁水溪公社的[《晚安台灣》](https://www.youtube.com/watch?v=9CqHgzYv4nw)來結束今天吧！

Good night, Taiwan!
